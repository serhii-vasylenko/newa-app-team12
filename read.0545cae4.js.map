{"mappings":"oeAAAA,EAAA,S,sBCAA,MAAMC,EAAkBC,MAAMC,KAC5BC,SAASC,iBAAiB,oBAGtBC,EAAaC,OAAOC,SAASC,KCJnC,SAASC,IACL,IAAIC,EAAOP,SAASQ,uBAAuB,qBAC3C,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC7BF,EAAKE,GAAGE,iBAAiB,SAAS,WAC9BC,KAAKC,UAAUC,OAAO,wBACtB,IAAIC,EAAUH,KAAKI,mBACfD,EAAQE,MAAMC,UACdH,EAAQE,MAAMC,UAAY,KAE1BH,EAAQE,MAAMC,UAAYH,EAAQI,aAAe,I,IDHjEtB,EAAgBuB,KAAIC,IAClB,MAAMC,EAAQD,EAAIE,UAAUC,cACxBtB,EAAWuB,SAASH,GACtBD,EAAIR,UAAUa,IAAI,WAElBL,EAAIR,UAAUc,OAAO,UAAU,IEPnC,IAAIC,EAAe,GACnB,MAAMC,ECJG,CACLC,WAAY9B,SAAS+B,cAAc,iBACnCC,SAAUhC,SAAS+B,cAAc,kBACjCE,aAAcjC,SAAS+B,cAAc,wBACrCG,OAAQlC,SAAS+B,cAAc,yBAC/BI,SAAUnC,SAAS+B,cAAc,eDC/BK,EAAwBpC,SAAS+B,cACrC,4BAiBF,SAASM,EAAqBC,GAG5B,MAAMC,EAAQ,IAAID,GACflB,KAAI,EAACoB,KAAEA,KAAWA,IAClBC,QAAO,CAACC,EAAQC,EAAOC,IAAUA,EAAMC,QAAQH,KAAYC,IAE9C3C,SAAS+B,cAAc,+BAEvCQ,EAAMO,SAAQC,IACZX,EAAsBY,mBACpB,aACA,kEACoDD,4NAStD,MAAME,EAAUjD,SAAS+B,cAAc,+BACvCO,EAAMQ,SAAQI,IACRA,EAAGV,OAASO,GAEdE,EAAQD,mBAAmB,aAAcE,EAAGC,OAAO,IAGvD,MAAMC,EAAcpD,SAAS+B,cAAc,+BAErCsB,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,aAChDH,KAAKC,MAAMC,aAAaC,QAAQ,aAChC,GAIJL,EAAYzC,iBAAiB,SAE7B,UAAwB+C,OAAEA,IACxB,GACsB,WAApBA,EAAOC,UACPD,EAAO7C,UAAU+C,SAAS,oBAC1B,EAmBJ,SAAiCF,GAC/BA,EAAO7C,UAAUgD,QAAQ,mBAAoB,yBAC7CH,EAAOnC,UAAY,usB,CApBjBuC,CAAwBJ,GACxB,MAAMK,EAAa,CACjBC,cAAeN,EAAOO,WAAWC,kBAAkBC,UACnDhB,OAAQO,EAAOO,WAAWA,WAAWE,WAKvCd,EAAYe,KAAKL,GACjBP,aAAaa,QAAQ,WAAYf,KAAKgB,UAAUjB,G,KAE5B,WAApBK,EAAOC,UACPD,EAAO7C,UAAU+C,SAAS,2BAwB9B,SAAoCF,GAGlC,MAAMa,EAAelB,EAAYmB,WAC/BnD,GAAOA,EAAI8B,SAAWO,EAAOO,WAAWA,WAAWE,YAGrDd,EAAYoB,OAAOF,EAAc,GACjCf,aAAaa,QAAQ,WAAYf,KAAKgB,UAAUjB,G,CA9B9CqB,CAA2BhB,GAa/B,SAAiCA,GAC/BA,EAAO7C,UAAUgD,QAAQ,wBAAyB,oBAClDH,EAAOnC,UAAY,2qB,CAdjBoD,CAAwBjB,G,OAiC9BpD,G,CA1GFH,OAAOQ,iBAAiB,mBAAoB0B,GAGgB,OAAtDiB,KAAKC,MAAMC,aAAaC,QAAQ,YAIpC7B,EAAe0B,KAAKC,MAAMC,aAAaC,QAAQ,WAE/CpB,EAAqBT,IALnBC,EAAKM,SAAStB,UAAUC,OAAO","sources":["src/read.js","src/js/markups/changeCurrentClass.js","src/js/openCloseRevisionDate.js","src/js/markups/readMarkup.js","src/js/get-refs.js"],"sourcesContent":["import './js/mobileMenu';\nimport './js/switch';\nimport './js/switchMobile';\nimport './js/markups/changeCurrentClass';\nimport './js/markups/readMarkup';\n","const pageLinkElArray = Array.from(\n  document.querySelectorAll('.nav-list__link')\n);\n\nconst currentUrl = window.location.href;\n\npageLinkElArray.map(obj => {\n  const title = obj.innerHTML.toLowerCase();\n  if (currentUrl.includes(title)) {\n    obj.classList.add('current');\n  } else {\n    obj.classList.remove('current');\n  }\n});\n","function openCloseRevisionDate() {\n    let coll = document.getElementsByClassName('revision-date-btn');\n    for (let i = 0; i < coll.length; i++) {\n        coll[i].addEventListener('click', function () {\n            this.classList.toggle('active-revision-date');\n            let content = this.nextElementSibling;\n            if (content.style.maxHeight) {\n                content.style.maxHeight = null;\n            } else {\n                content.style.maxHeight = content.scrollHeight + 'px'\n            }\n        })\n    }\n}\n\nexport { openCloseRevisionDate };","import { openCloseRevisionDate } from '../openCloseRevisionDate';\nimport getRefs from '../get-refs';\n\nconst READED_KEY = 'readed';\nlet storageArray = [];\nconst refs = getRefs();\n\nconst revisionDateContainer = document.querySelector(\n  '.revision-date-container'\n);\n\nwindow.addEventListener('DOMContentLoaded', creatRevisionDataNew);\n\nfunction checkLocalStorage() {\n  if (JSON.parse(localStorage.getItem(`${READED_KEY}`)) === null) {\n    refs.notFound.classList.toggle('visually-hidden');\n    return;\n  }\n  storageArray = JSON.parse(localStorage.getItem(`${READED_KEY}`));\n  // console.log(storageArray);\n  creatRevisionDataNew(storageArray);\n}\n\ncheckLocalStorage();\n\nfunction creatRevisionDataNew(array) {\n  // console.log(`Array.from(array)`);\n  // console.log(Object.keys(array));\n  const dates = [...array]\n    .map(({ date }) => date)\n    .filter((course, index, array) => array.indexOf(course) === index);\n  // console.log(dates);\n  const gallery = document.querySelector('.container-for-viewed-cards');\n  // console.log(gallery);\n  dates.forEach(dateE => {\n    revisionDateContainer.insertAdjacentHTML(\n      'afterbegin',\n      `<div>\n        <button type=\"button\" class=\"revision-date-btn\">${dateE}\n          <svg class=\"icon-arrow\">\n            <use href=\"./images/arrow.svg#icon-arrow\"></use>\n          </svg>\n        </button>\n        <ul class=\"container-for-viewed-cards\">\n        </ul>\n        </div>`\n    );\n    const gallery = document.querySelector('.container-for-viewed-cards');\n    array.forEach(el => {\n      if (el.date === dateE) {\n        // console.log(el.markup);\n        gallery.insertAdjacentHTML('afterbegin', el.markup);\n      }\n    });\n    const newsGallery = document.querySelector('.container-for-viewed-cards');\n\n    const storageData = JSON.parse(localStorage.getItem('favorite'))\n      ? JSON.parse(localStorage.getItem('favorite'))\n      : [];\n\n    // window.addEventListener('DOMContentLoaded', checkFavCards);\n\n    newsGallery.addEventListener('click', onCardBtnClick);\n\n    function onCardBtnClick({ target }) {\n      if (\n        target.nodeName === 'BUTTON' &&\n        target.classList.contains('addToFavoriteBtn')\n      ) {\n        changeAddBtnToRemoveBtn(target);\n        const cardMarkup = {\n          firstElOfCard: target.parentNode.firstElementChild.outerHTML,\n          markup: target.parentNode.parentNode.outerHTML,\n        };\n        // const storageData = JSON.parse(localStorage.getItem(\"favorite\"))\n        //   ? JSON.parse(localStorage.getItem(\"favorite\"))\n        //   : [];\n        storageData.push(cardMarkup);\n        localStorage.setItem('favorite', JSON.stringify(storageData));\n      } else if (\n        target.nodeName === 'BUTTON' &&\n        target.classList.contains('removeFromFavoriteBtn')\n      ) {\n        removeCardFromLocalStorage(target);\n        changeRemoveBtnToAddBtn(target);\n      }\n    }\n    function changeAddBtnToRemoveBtn(target) {\n      target.classList.replace('addToFavoriteBtn', 'removeFromFavoriteBtn');\n      target.innerHTML = `Remove from favorite  <svg class=\"news-favorite__icon\" width=\"16\"\n                                    height=\"16\"\n                                    viewBox=\"0 0 37 32\"\n                                    >\n                                <path fill=\"#4440f7\" style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                                </svg>`;\n    }\n    function changeRemoveBtnToAddBtn(target) {\n      target.classList.replace('removeFromFavoriteBtn', 'addToFavoriteBtn');\n      target.innerHTML = `Add to favorite  <svg class=\"news-favorite__icon\" width=\"16\"\n                                    height=\"16\"\n                                    viewBox=\"0 0 37 32\"\n                                    >\n                            <path style=\"stroke: var(--color1, #4440F7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                            </svg>`;\n    }\n    function removeCardFromLocalStorage(target) {\n      // const storageData = JSON.parse(localStorage.getItem(\"favorite\"));\n\n      const indexOfDelEl = storageData.findIndex(\n        obj => obj.markup === target.parentNode.parentNode.outerHTML\n      );\n\n      storageData.splice(indexOfDelEl, 1);\n      localStorage.setItem('favorite', JSON.stringify(storageData));\n    }\n  });\n\n  openCloseRevisionDate();\n}\n\n// function creatRevisionData() {\n//   for (let i = 0; i < localStorage.length; i++) {\n//     let key = localStorage.key(i)\n//       if (key !== 'favorite' && key !== 'theme' && key !== 'favorite')\n\n//     revisionDateContainer.insertAdjacentHTML(\"afterbegin\",\n//       `<div>\n//         <button type=\"button\" class=\"revision-date-btn\">${key}\n//           <svg class=\"icon-arrow\">\n//             <use href=\"./images/arrow.svg#icon-arrow\"></use>\n//           </svg>\n//         </button>\n//         <ul class=\"container-for-viewed-cards\">\n//         </ul>\n//         </div>`);\n\n//     const gallery = document.querySelector('.container-for-viewed-cards');\n//     try {\n//       const storageData = JSON.parse(localStorage.getItem(key));\n//       const galleryMarkup = storageData.reduce((previousValue, obj) => {\n//         return previousValue + obj.markup;\n//       }, '');\n//       gallery.insertAdjacentHTML(\"afterbegin\", galleryMarkup);\n//     } catch {\n//       console.log('LocalStorage is empty!');\n//     }\n//                       const newsGallery = document.querySelector('.container-for-viewed-cards');\n\n//                       const storageData = JSON.parse(localStorage.getItem('favorite'))\n//                         ? JSON.parse(localStorage.getItem('favorite'))\n//                         : [];\n\n//                       // window.addEventListener('DOMContentLoaded', checkFavCards);\n\n//                       newsGallery.addEventListener('click', onCardBtnClick);\n\n//                       function onCardBtnClick({ target }) {\n//                         if (\n//                           target.nodeName === 'BUTTON' &&\n//                           target.classList.contains('addToFavoriteBtn')\n//                         ) {\n//                           changeAddBtnToRemoveBtn(target);\n//                           const cardMarkup = {\n//                             firstElOfCard: target.parentNode.firstElementChild.outerHTML,\n//                             markup: target.parentNode.parentNode.outerHTML,\n//                           };\n//                           // const storageData = JSON.parse(localStorage.getItem(\"favorite\"))\n//                           //   ? JSON.parse(localStorage.getItem(\"favorite\"))\n//                           //   : [];\n//                           storageData.push(cardMarkup);\n//                           localStorage.setItem('favorite', JSON.stringify(storageData));\n//                         } else if (\n//                           target.nodeName === 'BUTTON' &&\n//                           target.classList.contains('removeFromFavoriteBtn')\n//                         ) {\n//                           removeCardFromLocalStorage(target);\n//                           changeRemoveBtnToAddBtn(target);\n//                         }\n//                       }\n//                       function changeAddBtnToRemoveBtn(target) {\n//                         target.classList.replace('addToFavoriteBtn', 'removeFromFavoriteBtn');\n//                         target.innerHTML = `Remove from favorite  <svg class=\"news-favorite__icon\" width=\"16\"\n//                                                       height=\"16\"\n//                                                       viewBox=\"0 0 37 32\"\n//                                                       >\n//                                                   <path fill=\"#4440f7\" style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n//                                                   </svg>`;\n//                       }\n//                       function changeRemoveBtnToAddBtn(target) {\n//                         target.classList.replace('removeFromFavoriteBtn', 'addToFavoriteBtn');\n//                         target.innerHTML = `Add to favorite  <svg class=\"news-favorite__icon\" width=\"16\"\n//                                                       height=\"16\"\n//                                                       viewBox=\"0 0 37 32\"\n//                                                       >\n//                                               <path style=\"stroke: var(--color1, #4440F7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n//                                               </svg>`;\n//                       }\n//                       function removeCardFromLocalStorage(target) {\n//                         // const storageData = JSON.parse(localStorage.getItem(\"favorite\"));\n\n//                         const indexOfDelEl = storageData.findIndex(\n//                           obj => obj.markup === target.parentNode.parentNode.outerHTML\n//                         );\n\n//                         storageData.splice(indexOfDelEl, 1);\n//                         localStorage.setItem('favorite', JSON.stringify(storageData));\n//                       }\n// }\n//   openCloseRevisionDate();\n// }\n","export default function getRefs() {\n  return {\n    newsGalery: document.querySelector('.news-gallery'),\n    favorite: document.querySelector('.news-favorite'),\n    iconFavorite: document.querySelector('.news-favorite__icon'),\n    readed: document.querySelector('.card__infotion__more'),\n    notFound: document.querySelector('.not-found')\n  };\n}"],"names":["parcelRequire","$eebcf19e61cab474$var$pageLinkElArray","Array","from","document","querySelectorAll","$eebcf19e61cab474$var$currentUrl","window","location","href","$ff377af430ab1bab$export$ba40eccdefc7277c","coll","getElementsByClassName","i","length","addEventListener","this","classList","toggle","content","nextElementSibling","style","maxHeight","scrollHeight","map","obj","title","innerHTML","toLowerCase","includes","add","remove","$c322945545d2ecd7$var$storageArray","$c322945545d2ecd7$var$refs","newsGalery","querySelector","favorite","iconFavorite","readed","notFound","$c322945545d2ecd7$var$revisionDateContainer","$c322945545d2ecd7$var$creatRevisionDataNew","array1","dates","date","filter","course","index","array","indexOf","forEach","dateE","insertAdjacentHTML","gallery","el","markup","newsGallery","storageData","JSON","parse","localStorage","getItem","target","nodeName","contains","replace","changeAddBtnToRemoveBtn","cardMarkup","firstElOfCard","parentNode","firstElementChild","outerHTML","push","setItem","stringify","indexOfDelEl","findIndex","splice","removeCardFromLocalStorage","changeRemoveBtnToAddBtn"],"version":3,"file":"read.0545cae4.js.map"}