{"mappings":"gfAAAA,EAAA,S,sBCAA,IAAMC,EAAkBC,MAAMC,KAC5BC,SAASC,iBAAiB,oBAGtBC,EAAaC,OAAOC,SAASC,KAEnCR,EAAgBS,KAAI,SAAAC,GAClB,IAAMC,EAAQD,EAAIE,UAAUC,cACxBR,EAAWS,SAASH,GACtBD,EAAIK,UAAUC,IAAI,WAElBN,EAAIK,UAAUE,OAAO,U,IDNzB,IAAMC,EAAUf,SAASgB,cAAc,2BACjCC,EAAejB,SAASgB,cAAc,cAE5Cb,OAAOe,iBAAiB,oBAGxB,WACE,IACE,IAAMC,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,aAC9CC,EAAgBL,EAAYM,QAAO,SAACC,EAAenB,GACvD,OAAOmB,EAAgBnB,EAAIoB,M,GAC1B,IACHZ,EAAQN,UAAYe,EACO,IAAvBL,EAAYS,OACdX,EAAaL,UAAUE,OAAO,mBACzBG,EAAaL,UAAUC,IAAI,kB,CAClC,MAAAgB,GACAZ,EAAaL,UAAUE,OAAO,kB,KAblCC,EAAQG,iBAAiB,SAiBzB,SAA4BY,G,IAAAC,EAAAD,EAAEC,OAC5B,GACsB,WAApBA,EAAOC,UACPD,EAAOnB,UAAUqB,SAAS,yBAC1B,CACA,IAAMd,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,aAE9CW,EAAef,EAAYgB,WAC/B,SAAA5B,G,OAAOA,EAAIoB,SAAWI,EAAOK,WAAWA,WAAWC,S,IAErDlB,EAAYmB,OAAOJ,EAAc,GACjCZ,aAAaiB,QAAQ,WAAYnB,KAAKoB,UAAUrB,IAChDY,EAAOK,WAAWA,WAAWC,UAAY,E","sources":["src/favorite.js","src/js/markups/changeCurrentClass.js"],"sourcesContent":["import './js/mobileMenu';\nimport './js/switch';\nimport './js/switchMobile';\nimport './js/markups/changeCurrentClass';\n\nconst gallery = document.querySelector('.favorite-gallery__list');\nconst notFoundPage = document.querySelector('.not-found');\n\nwindow.addEventListener('DOMContentLoaded', createGallery);\ngallery.addEventListener('click', removeFromFavorite);\n\nfunction createGallery() {\n  try {\n    const storageData = JSON.parse(localStorage.getItem('favorite'));\n    const galleryMarkup = storageData.reduce((previousValue, obj) => {\n      return previousValue + obj.markup;\n    }, '');\n    gallery.innerHTML = galleryMarkup;\n    if (storageData.length === 0) {\n      notFoundPage.classList.remove('visually-hidden');\n    } else notFoundPage.classList.add('visually-hidden');\n  } catch {\n    notFoundPage.classList.remove('visually-hidden');\n  }\n}\n\nfunction removeFromFavorite({ target }) {\n  if (\n    target.nodeName === 'BUTTON' &&\n    target.classList.contains('removeFromFavoriteBtn')\n  ) {\n    const storageData = JSON.parse(localStorage.getItem('favorite'));\n\n    const indexOfDelEl = storageData.findIndex(\n      obj => obj.markup === target.parentNode.parentNode.outerHTML\n    );\n    storageData.splice(indexOfDelEl, 1);\n    localStorage.setItem('favorite', JSON.stringify(storageData));\n    target.parentNode.parentNode.outerHTML = '';\n  }\n}\n","const pageLinkElArray = Array.from(\n  document.querySelectorAll('.nav-list__link')\n);\n\nconst currentUrl = window.location.href;\n\npageLinkElArray.map(obj => {\n  const title = obj.innerHTML.toLowerCase();\n  if (currentUrl.includes(title)) {\n    obj.classList.add('current');\n  } else {\n    obj.classList.remove('current');\n  }\n});\n"],"names":["parcelRequire","$9155e9c875abfda6$var$pageLinkElArray","Array","from","document","querySelectorAll","$9155e9c875abfda6$var$currentUrl","window","location","href","map","obj","title","innerHTML","toLowerCase","includes","classList","add","remove","$19661b0c25203147$var$gallery","querySelector","$19661b0c25203147$var$notFoundPage","addEventListener","storageData","JSON","parse","localStorage","getItem","galleryMarkup","reduce","previousValue","markup","length","e","param","target","nodeName","contains","indexOfDelEl","findIndex","parentNode","outerHTML","splice","setItem","stringify"],"version":3,"file":"favorite.759f81b7.js.map"}