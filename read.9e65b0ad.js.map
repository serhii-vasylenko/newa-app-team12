{"mappings":"gfAAAA,EAAA,S,sBCAA,IAAMC,EAAkBC,MAAMC,KAC5BC,SAASC,iBAAiB,oBAGtBC,EAAaC,OAAOC,SAASC,KCJnC,SAASC,IAEL,IADA,IAAIC,EAAOP,SAASQ,uBAAuB,qBAClCC,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC7BF,EAAKE,GAAGE,iBAAiB,SAAS,WAC9BC,KAAKC,UAAUC,OAAO,wBACtB,IAAIC,EAAUH,KAAKI,mBACfD,EAAQE,MAAMC,UACdH,EAAQE,MAAMC,UAAY,KAE1BH,EAAQE,MAAMC,UAAYH,EAAQI,aAAe,I,IDHjEtB,EAAgBuB,KAAI,SAAAC,GAClB,IAAMC,EAAQD,EAAIE,UAAUC,cACxBtB,EAAWuB,SAASH,GACtBD,EAAIR,UAAUa,IAAI,WAElBL,EAAIR,UAAUc,OAAO,U,IETzB,IAAMC,EAAwB5B,SAAS6B,cAAc,4BAErD1B,OAAOQ,iBAAiB,oBAExB,WACE,IAAK,IAAIF,EAAI,EAAGA,EAAIqB,aAAapB,OAAQD,IAAK,CAC5C,IAAIsB,EAAMD,aAAaC,IAAItB,GACb,aAARsB,GAA8B,UAARA,GAA2B,aAARA,GAE/CH,EAAsBI,mBAAmB,aACvC,kEACwDC,OAAJF,EAAI,4NAS1D,IAAMG,EAAUlC,SAAS6B,cAAc,+BACvC,IACE,IACMM,EADcC,KAAKC,MAAMP,aAAaQ,QAAQP,IAClBQ,QAAO,SAACC,EAAenB,GACvD,OAAOmB,EAAgBnB,EAAIoB,M,GAC1B,IACHP,EAAQF,mBAAmB,aAAcG,E,CACzC,MAAAO,GACAC,QAAQC,IAAI,yB,CAEI,IAAMC,EAAc7C,SAAS6B,cAAc,+BAErCiB,EAAcV,KAAKC,MAAMP,aAAaQ,QAAQ,aAChDF,KAAKC,MAAMP,aAAaQ,QAAQ,aAChC,GAMJ,SAASS,EAAeC,G,IAAAC,EAAAD,EAAEC,OACxB,GACsB,WAApBA,EAAOC,UACPD,EAAOpC,UAAUsC,SAAS,oBAC1B,CACAC,EAAwBH,GACxB,IAAMI,EAAa,CACjBC,cAAeL,EAAOM,WAAWC,kBAAkBC,UACnDhB,OAAQQ,EAAOM,WAAWA,WAAWE,WAKvCX,EAAYY,KAAKL,GACjBvB,aAAa6B,QAAQ,WAAYvB,KAAKwB,UAAUd,G,KAE5B,WAApBG,EAAOC,UACPD,EAAOpC,UAAUsC,SAAS,2BAE1BU,EAA2BZ,GAC3Ba,EAAwBb,G,CAG5B,SAASG,EAAwBH,GAC/BA,EAAOpC,UAAUkD,QAAQ,mBAAoB,yBAC7Cd,EAAO1B,UAAa,iyB,CAOtB,SAASuC,EAAwBb,GAC/BA,EAAOpC,UAAUkD,QAAQ,wBAAyB,oBAClDd,EAAO1B,UAAa,qwB,CAOtB,SAASsC,EAA2BZ,GAGlC,IAAMe,EAAelB,EAAYmB,WAC/B,SAAA5C,G,OAAOA,EAAIoB,SAAWQ,EAAOM,WAAWA,WAAWE,S,IAGrDX,EAAYoB,OAAOF,EAAc,GACjClC,aAAa6B,QAAQ,WAAYvB,KAAKwB,UAAUd,G,CAnDlDD,EAAYlC,iBAAiB,QAASoC,E,CAsD1DzC,G","sources":["src/read.js","src/js/markups/changeCurrentClass.js","src/js/openCloseRevisionDate.js","src/js/markups/readMarkup.js"],"sourcesContent":["import './js/mobileMenu';\nimport './js/switch';\nimport './js/switchMobile';\nimport './js/markups/changeCurrentClass';\nimport './js/markups/readMarkup';\n","const pageLinkElArray = Array.from(\n  document.querySelectorAll('.nav-list__link')\n);\n\nconst currentUrl = window.location.href;\n\npageLinkElArray.map(obj => {\n  const title = obj.innerHTML.toLowerCase();\n  if (currentUrl.includes(title)) {\n    obj.classList.add('current');\n  } else {\n    obj.classList.remove('current');\n  }\n});\n","function openCloseRevisionDate() {\n    let coll = document.getElementsByClassName('revision-date-btn');\n    for (let i = 0; i < coll.length; i++) {\n        coll[i].addEventListener('click', function () {\n            this.classList.toggle('active-revision-date');\n            let content = this.nextElementSibling;\n            if (content.style.maxHeight) {\n                content.style.maxHeight = null;\n            } else {\n                content.style.maxHeight = content.scrollHeight + 'px'\n            }\n        })\n    }\n}\n\nexport { openCloseRevisionDate };","import { openCloseRevisionDate } from '../openCloseRevisionDate';\n\nconst revisionDateContainer = document.querySelector('.revision-date-container');\n\nwindow.addEventListener('DOMContentLoaded', creatRevisionData);\n\nfunction creatRevisionData() {\n  for (let i = 0; i < localStorage.length; i++) {\n    let key = localStorage.key(i)\n      if (key !== 'favorite' && key !== 'theme' && key !== 'favorite')\n    \n    revisionDateContainer.insertAdjacentHTML(\"afterbegin\",\n      `<div>\n        <button type=\"button\" class=\"revision-date-btn\">${key}\n          <svg class=\"icon-arrow\">\n            <use href=\"./images/arrow.svg#icon-arrow\"></use>\n          </svg>\n        </button>\n        <ul class=\"container-for-viewed-cards\">\n        </ul>\n        </div>`);\n    \n    const gallery = document.querySelector('.container-for-viewed-cards');\n    try {\n      const storageData = JSON.parse(localStorage.getItem(key));\n      const galleryMarkup = storageData.reduce((previousValue, obj) => {\n        return previousValue + obj.markup;\n      }, '');\n      gallery.insertAdjacentHTML(\"afterbegin\", galleryMarkup);\n    } catch {\n      console.log('LocalStorage is empty!');\n    }\n                      const newsGallery = document.querySelector('.container-for-viewed-cards');\n\n                      const storageData = JSON.parse(localStorage.getItem('favorite'))\n                        ? JSON.parse(localStorage.getItem('favorite'))\n                        : [];\n\n                      // window.addEventListener('DOMContentLoaded', checkFavCards);\n\n                      newsGallery.addEventListener('click', onCardBtnClick);\n\n                      function onCardBtnClick({ target }) {\n                        if (\n                          target.nodeName === 'BUTTON' &&\n                          target.classList.contains('addToFavoriteBtn')\n                        ) {\n                          changeAddBtnToRemoveBtn(target);\n                          const cardMarkup = {\n                            firstElOfCard: target.parentNode.firstElementChild.outerHTML,\n                            markup: target.parentNode.parentNode.outerHTML,\n                          };\n                          // const storageData = JSON.parse(localStorage.getItem(\"favorite\"))\n                          //   ? JSON.parse(localStorage.getItem(\"favorite\"))\n                          //   : [];\n                          storageData.push(cardMarkup);\n                          localStorage.setItem('favorite', JSON.stringify(storageData));\n                        } else if (\n                          target.nodeName === 'BUTTON' &&\n                          target.classList.contains('removeFromFavoriteBtn')\n                        ) {\n                          removeCardFromLocalStorage(target);\n                          changeRemoveBtnToAddBtn(target);\n                        }\n                      }\n                      function changeAddBtnToRemoveBtn(target) {\n                        target.classList.replace('addToFavoriteBtn', 'removeFromFavoriteBtn');\n                        target.innerHTML = `Remove from favorite  <svg class=\"news-favorite__icon\" width=\"16\"\n                                                      height=\"16\"\n                                                      viewBox=\"0 0 37 32\"\n                                                      >\n                                                  <path fill=\"#4440f7\" style=\"stroke: var(--color1, #4440f7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                                                  </svg>`;\n                      }\n                      function changeRemoveBtnToAddBtn(target) {\n                        target.classList.replace('removeFromFavoriteBtn', 'addToFavoriteBtn');\n                        target.innerHTML = `Add to favorite  <svg class=\"news-favorite__icon\" width=\"16\"\n                                                      height=\"16\"\n                                                      viewBox=\"0 0 37 32\"\n                                                      >\n                                              <path style=\"stroke: var(--color1, #4440F7)\" stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"4\" stroke-width=\"2.2857\" d=\"M10.666 2.286c-4.207 0-7.619 3.377-7.619 7.543 0 3.363 1.333 11.345 14.458 19.413 0.235 0.143 0.505 0.219 0.78 0.219s0.545-0.076 0.78-0.219c13.125-8.069 14.458-16.050 14.458-19.413 0-4.166-3.412-7.543-7.619-7.543s-7.619 4.571-7.619 4.571-3.412-4.571-7.619-4.571z\"></path>\n                                              </svg>`;\n                      }\n                      function removeCardFromLocalStorage(target) {\n                        // const storageData = JSON.parse(localStorage.getItem(\"favorite\"));\n\n                        const indexOfDelEl = storageData.findIndex(\n                          obj => obj.markup === target.parentNode.parentNode.outerHTML\n                        );\n\n                        storageData.splice(indexOfDelEl, 1);\n                        localStorage.setItem('favorite', JSON.stringify(storageData));\n                      }\n}\n  openCloseRevisionDate();\n}\n\n"],"names":["parcelRequire","$9155e9c875abfda6$var$pageLinkElArray","Array","from","document","querySelectorAll","$9155e9c875abfda6$var$currentUrl","window","location","href","$8c280693b7042be6$export$ba40eccdefc7277c","coll","getElementsByClassName","i","length","addEventListener","this","classList","toggle","content","nextElementSibling","style","maxHeight","scrollHeight","map","obj","title","innerHTML","toLowerCase","includes","add","remove","$57cdab49ef221eec$var$revisionDateContainer","querySelector","localStorage","key","insertAdjacentHTML","concat","gallery","galleryMarkup","JSON","parse","getItem","reduce","previousValue","markup","e","console","log","newsGallery","storageData1","onCardBtnClick","param","target","nodeName","contains","changeAddBtnToRemoveBtn","cardMarkup","firstElOfCard","parentNode","firstElementChild","outerHTML","push","setItem","stringify","removeCardFromLocalStorage","changeRemoveBtnToAddBtn","replace","indexOfDelEl","findIndex","splice"],"version":3,"file":"read.9e65b0ad.js.map"}